{"remainingRequest":"/home/user/Work/ethsender/node_modules/babel-loader/lib/index.js!/home/user/Work/ethsender/node_modules/ts-loader/index.js??ref--15-2!/home/user/Work/ethsender/node_modules/eslint-loader/index.js??ref--14-0!/home/user/Work/ethsender/src/utils/getAccount.ts","dependencies":[{"path":"/home/user/Work/ethsender/src/utils/getAccount.ts","mtime":1643200535260},{"path":"/home/user/Work/ethsender/babel.config.js","mtime":1643121690025},{"path":"/home/user/Work/ethsender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Work/ethsender/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/user/Work/ethsender/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/user/Work/ethsender/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3VzZXIvV29yay9ldGhzZW5kZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHdlYjMsIGZyb21XZWkgfSBmcm9tICcuL3dlYjMnOwppbXBvcnQgeyBjaGVja05ldHdvcmsgfSBmcm9tICcuL25ldHdvcmsnOyAvLyBkYXRhCgpleHBvcnQgdmFyIGFjY291bnQgPSByZWYobnVsbCk7IC8vIG1ldGhvZHMKCmV4cG9ydCB2YXIgZ2V0QWNjb3VudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgYWRkcmVzc2VzLCBiYWxhbmNlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHsKICAgICAgICAgICAgICBtZXRob2Q6ICdldGhfcmVxdWVzdEFjY291bnRzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGFkZHJlc3NlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gd2ViMy5ldGguZ2V0QmFsYW5jZShhZGRyZXNzZXNbMF0pOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgYmFsYW5jZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICByZXR1cm4gY2hlY2tOZXR3b3JrKCk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBhY2NvdW50LnZhbHVlID0gewogICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3Nlc1swXSwKICAgICAgICAgICAgICBiYWxhbmNlOiBiYWxhbmNlLAogICAgICAgICAgICAgIGh1bWFuaXplZEJhbGFuY2U6IGZyb21XZWkoYmFsYW5jZSkKICAgICAgICAgICAgfTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZ2V0QWNjb3VudCgpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOwpleHBvcnQgdmFyIHVwZGF0ZUJhbGFuY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICB2YXIgYmFsYW5jZTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHdlYjMuZXRoLmdldEJhbGFuY2UoYWNjb3VudC52YWx1ZS5hZGRyZXNzKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGJhbGFuY2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgYWNjb3VudC52YWx1ZS5iYWxhbmNlID0gYmFsYW5jZTsKICAgICAgICAgICAgYWNjb3VudC52YWx1ZS5odW1hbml6ZWRCYWxhbmNlID0gZnJvbVdlaShiYWxhbmNlKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiB1cGRhdGVCYWxhbmNlKCkgewogICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpOw=="},{"version":3,"sources":["/home/user/Work/ethsender/node_modules/eslint-loader/index.js??ref--14-0!/home/user/Work/ethsender/src/utils/getAccount.ts"],"names":[],"mappings":";;AACA,SAAS,GAAT,QAAoB,KAApB;AACA,SAAS,IAAT,EAAe,OAAf,QAA8B,QAA9B;AACA,SAAS,YAAT,QAA6B,WAA7B,C,CAEA;;AACA,OAAO,IAAM,OAAO,GAAG,GAAG,CAAiB,IAAjB,CAAnB,C,CAEP;;AACA,OAAO,IAAM,UAAU;AAAA,qEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACe,MAAM,CAAC,QAAP,CAAgB,OAAhB,CAAwB;AAC7D,cAAA,MAAM,EAAE;AADqD,aAAxB,CADf;;AAAA;AAClB,YAAA,SADkB;AAAA;AAAA,mBAKM,IAAI,CAAC,GAAL,CAAS,UAAT,CAAoB,SAAS,CAAC,CAAD,CAA7B,CALN;;AAAA;AAKlB,YAAA,OALkB;AAAA;AAAA,mBAMlB,YAAY,EANM;;AAAA;AAQxB,YAAA,OAAO,CAAC,KAAR,GAAgB;AACd,cAAA,OAAO,EAAE,SAAS,CAAC,CAAD,CADJ;AAEd,cAAA,OAAO,EAAE,OAFK;AAGd,cAAA,gBAAgB,EAAE,OAAO,CAAC,OAAD;AAHX,aAAhB;;AARwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAV,UAAU;AAAA;AAAA;AAAA,GAAhB;AAeP,OAAO,IAAM,aAAa;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACG,IAAI,CAAC,GAAL,CAAS,UAAT,CAAoB,OAAO,CAAC,KAAR,CAAc,OAAlC,CADH;;AAAA;AACrB,YAAA,OADqB;AAE3B,YAAA,OAAO,CAAC,KAAR,CAAc,OAAd,GAAwB,OAAxB;AACA,YAAA,OAAO,CAAC,KAAR,CAAc,gBAAd,GAAiC,OAAO,CAAC,OAAD,CAAxC;;AAH2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAb,aAAa;AAAA;AAAA;AAAA,GAAnB","sourcesContent":["import { Account } from '../interfaces/Account'\nimport { ref } from 'vue'\nimport { web3, fromWei } from './web3'\nimport { checkNetwork } from './network'\n\n// data\nexport const account = ref<Account | null>(null)\n\n// methods\nexport const getAccount = async () => {\n  const addresses: Array<string> = await window.ethereum.request({\n    method: 'eth_requestAccounts'\n  })\n\n  const balance: string = await web3.eth.getBalance(addresses[0])\n  await checkNetwork()\n\n  account.value = {\n    address: addresses[0],\n    balance: balance,\n    humanizedBalance: fromWei(balance)\n  }\n}\n\nexport const updateBalance = async () => {\n  const balance: string = await web3.eth.getBalance(account.value.address)\n  account.value.balance = balance\n  account.value.humanizedBalance = fromWei(balance)\n}\n"],"sourceRoot":""}]}